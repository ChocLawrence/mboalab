(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"+b57":function(l,n,t){"use strict";t.r(n),t.d(n,"VerifyEmailModuleNgFactory",function(){return M});var i=t("8Y7J");class e{}var u=t("pMnS"),r=t("iInd"),o=t("SVse"),a=t("mrSG");class s{constructor(l,n,t,i){this.core=l,this.router=n,this.fb=t,this.emailsService=i,this.loading=!1,this.verification=!1}ngOnInit(){this.processVerification()}processVerification(){return Object(a.a)(this,void 0,void 0,function*(){let l=this.router.url.split("/");this.verificationId=l[2],this.core.isEmptyOrNull(this.verificationId)?this.redirectToLogin():yield this.verifyEmail(this.verificationId)})}verifyEmail(l){return Object(a.a)(this,void 0,void 0,function*(){this.loading=!0,yield this.emailsService.verifyEmail(l).then(l=>{this.loading=!1,this.verification=!0,this.timer(2)}).catch(l=>{this.loading=!1,this.verification=!1,this.timer(1),this.core.handleError(l)})})}timer(l){let n=10*l,t="0",i=11;const e=l<10?"0":"",u=setInterval(()=>{n--,0!=i?i--:i=10,t=i<10?"0"+i:i,this.display=`${e}${Math.floor(n/60)}:${t}`,0==n&&(this.redirectToLogin(),clearInterval(u))},1e3)}redirectToLogin(){this.core.showSuccess("Success","Redirecting to login.."),this.router.navigate(["/login"])}}var c=t("mkVU"),b=t("s7LF"),h=t("IheW"),m=t("USoi");const p={headers:new h.g({"Content-Type":"application/x-www-form-urlencoded"})};let f=(()=>{class l{constructor(l,n,t){this.http=l,this.urlService=n,this.core=t,this.apiUrl=`${this.urlService.apiUrl}emails/`,this.httpOptions=this.core.httpOptions}getEmails(){return this.core.makeRemoteRequest(this.apiUrl,"get",null,p)}addEmail(l){let n=this.apiUrl+"email",t=new FormData;return this.core.isEmptyOrNull(l.email)||t.append("email",l.email),this.core.isEmptyOrNull(l.primary)||t.append("primary",l.primary),this.core.makeRemoteRequest(n,"post",t,this.httpOptions)}getSingleEmail(l){return this.core.makeRemoteRequest(this.apiUrl+l,"get",null,p)}updateEmail(l,n){let t=this.apiUrl+"up-email/"+n,i=new FormData;return this.core.isEmptyOrNull(l.email)||i.append("email",l.email),this.core.makeRemoteRequest(t,"put",i,null)}verifyEmail(l){return this.core.makeRemoteRequest(this.apiUrl+"verify-email/"+l,"get",null,p)}setPrimaryEmail(l){return this.core.makeRemoteRequest(this.apiUrl+"set-primary/"+l,"put",null,null)}deleteEmail(l){let n="";return this.core.isEmptyOrNull(l)||(n=this.apiUrl+"del-email/"+l),this.core.makeRemoteRequest(n,"delete",null,this.httpOptions)}}return l.\u0275prov=i.gc({factory:function(){return new l(i.hc(h.c),i.hc(m.a),i.hc(c.a))},token:l,providedIn:"root"}),l})();var d=i.Bb({encapsulation:0,styles:[['@import url("https://fonts.googleapis.com/css2?family=Arimo&display=swap");body[_ngcontent-%COMP%]{text-align:center;background:#ebf0f5;min-height:100vh}h1[_ngcontent-%COMP%]{color:#88b04b;font-weight:900;font-size:40px;margin-bottom:10px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Arimo,sans-serif}p[_ngcontent-%COMP%]{color:#404f5e;font-size:20px;margin:0}i[_ngcontent-%COMP%]{color:#9abc66;font-size:100px;line-height:200px;margin-left:-15px}.card[_ngcontent-%COMP%]{background:#fff;padding:60px;border-radius:4px;box-shadow:0 2px 3px #c8d0d8;display:inline-block;margin:0 auto}.holder[_ngcontent-%COMP%]{margin-top:5%}']],data:{}});function g(l){return i.fc(0,[(l()(),i.Db(0,0,null,null,0,"img",[["alt",""],["src","assets/img/emailverified.gif"],["width",""]],null,null,null,null,null))],null,null)}function v(l){return i.fc(0,[(l()(),i.Db(0,0,null,null,0,"img",[["alt",""],["src","assets/img/500.gif"],["width",""]],null,null,null,null,null))],null,null)}function y(l){return i.fc(0,[(l()(),i.Db(0,0,null,null,7,"span",[],null,null,null,null,null)),(l()(),i.Db(1,0,null,null,1,"h3",[["class","mt-4"]],null,null,null,null,null)),(l()(),i.cc(-1,null,["Email verified successfully"])),(l()(),i.Db(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),i.cc(-1,null,["Continue using MboaLab"])),(l()(),i.Db(5,0,null,null,2,"button",[["class","mt-4 btn btn-dark btn-lg btn-block"],["routerLink","/login"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==i.Sb(l,6).onClick()&&e),e},null,null)),i.Cb(6,540672,null,0,r.m,[r.l,r.a,[8,null],i.L,i.o],{routerLink:[0,"routerLink"]},null),(l()(),i.cc(-1,null,[" Continue "]))],function(l,n){l(n,6,0,"/login")},null)}function Q(l){return i.fc(0,[(l()(),i.Db(0,0,null,null,5,"span",[],null,null,null,null,null)),(l()(),i.Db(1,0,null,null,1,"h3",[["class","mt-4 red"]],null,null,null,null,null)),(l()(),i.cc(-1,null,["An error occured."])),(l()(),i.Db(3,0,null,null,2,"button",[["class","mt-4 btn btn-dark btn-lg btn-block"],["routerLink","/"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==i.Sb(l,4).onClick()&&e),e},null,null)),i.Cb(4,540672,null,0,r.m,[r.l,r.a,[8,null],i.L,i.o],{routerLink:[0,"routerLink"]},null),(l()(),i.cc(-1,null,[" Home "]))],function(l,n){l(n,4,0,"/")},null)}function k(l){return i.fc(0,[(l()(),i.Db(0,0,null,null,12,"body",[],null,null,null,null,null)),(l()(),i.Db(1,0,null,null,1,"div",[["class","row justify-content-center text-center mt-5"]],null,null,null,null,null)),(l()(),i.Db(2,0,null,null,0,"img",[["alt",""],["src","assets/img/logo-2.png"],["width","150"]],null,null,null,null,null)),(l()(),i.Db(3,0,null,null,9,"div",[["class","card holder"]],null,null,null,null,null)),(l()(),i.Db(4,0,null,null,4,"div",[["style","\n        border-radius: 200px;\n        height: 200px;\n        width: 200px;\n        background: #f8faf5;\n        margin: 0 auto;\n      "]],null,null,null,null,null)),(l()(),i.nb(16777216,null,null,1,null,g)),i.Cb(6,16384,null,0,o.m,[i.W,i.T],{ngIf:[0,"ngIf"]},null),(l()(),i.nb(16777216,null,null,1,null,v)),i.Cb(8,16384,null,0,o.m,[i.W,i.T],{ngIf:[0,"ngIf"]},null),(l()(),i.nb(16777216,null,null,1,null,y)),i.Cb(10,16384,null,0,o.m,[i.W,i.T],{ngIf:[0,"ngIf"]},null),(l()(),i.nb(16777216,null,null,1,null,Q)),i.Cb(12,16384,null,0,o.m,[i.W,i.T],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,6,0,t.verification),l(n,8,0,!t.verification),l(n,10,0,t.verification),l(n,12,0,!t.verification)},null)}function w(l){return i.fc(0,[(l()(),i.Db(0,0,null,null,1,"app-verify-email",[],null,null,null,k,d)),i.Cb(1,114688,null,0,s,[c.a,r.l,b.f,f],null,null)],function(l,n){l(n,1,0)},null)}var C=i.zb("app-verify-email",s,w,{},{},[]),E=t("9AJC"),O=t("XePT"),x=t("G0yt"),D=t("iryk"),I=t("lABs");class R{}var S=t("EApP"),P=t("fyIi"),L=t("hGdz"),M=i.Ab(e,[],function(l){return i.Pb([i.Qb(512,i.l,i.fb,[[8,[u.a,C,E.a,E.b,E.j,E.k,E.g,E.h,E.i,O.a]],[3,i.l],i.D]),i.Qb(4608,o.o,o.n,[i.z]),i.Qb(4608,x.v,x.v,[i.l,i.v,x.pb,x.w]),i.Qb(5120,D.a,I.b,[r.l]),i.Qb(1073742336,o.b,o.b,[]),i.Qb(1073742336,r.o,r.o,[[2,r.t],[2,r.l]]),i.Qb(1073742336,R,R,[]),i.Qb(1073742336,x.c,x.c,[]),i.Qb(1073742336,x.f,x.f,[]),i.Qb(1073742336,x.g,x.g,[]),i.Qb(1073742336,x.k,x.k,[]),i.Qb(1073742336,x.l,x.l,[]),i.Qb(1073742336,b.w,b.w,[]),i.Qb(1073742336,b.v,b.v,[]),i.Qb(1073742336,b.i,b.i,[]),i.Qb(1073742336,x.r,x.r,[]),i.Qb(1073742336,x.t,x.t,[]),i.Qb(1073742336,x.x,x.x,[]),i.Qb(1073742336,x.E,x.E,[]),i.Qb(1073742336,x.J,x.J,[]),i.Qb(1073742336,x.P,x.P,[]),i.Qb(1073742336,x.S,x.S,[]),i.Qb(1073742336,x.V,x.V,[]),i.Qb(1073742336,x.ab,x.ab,[]),i.Qb(1073742336,x.db,x.db,[]),i.Qb(1073742336,x.eb,x.eb,[]),i.Qb(1073742336,x.fb,x.fb,[]),i.Qb(1073742336,x.y,x.y,[]),i.Qb(1073742336,I.a,I.a,[]),i.Qb(1073742336,S.i,S.i,[]),i.Qb(1073742336,P.b,P.b,[]),i.Qb(1073742336,L.a,L.a,[]),i.Qb(1073742336,b.q,b.q,[]),i.Qb(1073742336,e,e,[]),i.Qb(1024,r.j,function(){return[[{path:"",component:s}]]},[]),i.Qb(256,S.b,{default:S.a,config:{timeOut:1e4,positionClass:"toast-top-right",preventDuplicates:!0}},[])])})},hGdz:function(l,n,t){"use strict";t.d(n,"a",function(){return i});class i{}}}]);