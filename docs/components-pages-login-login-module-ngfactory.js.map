{"version":3,"sources":["./src/app/components/pages/login/login.module.ts","./src/app/components/pages/login/login-routing.module.ts","./src/app/components/shared/shared.module.ts","./src/app/components/pages/login/login.component.ts","./src/app/components/pages/login/login.component.html"],"names":[],"mappings":"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","file":"components-pages-login-login-module-ngfactory.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { ToastrModule } from 'ngx-toastr';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\nimport { SharedModule } from '../../shared/shared.module';\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    LoginRoutingModule,\n    SharedModule,\n    ReactiveFormsModule,\n    ToastrModule.forRoot({\n      timeOut: 10000,\n      positionClass: 'toast-top-right',\n      preventDuplicates: true,\n    }),\n    FormsModule,\n    NgbModule\n  ]\n})\nexport class LoginModule { }\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [{ path: '', component: LoginComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule { }\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { BreadcrumbModule } from 'angular-crumbs';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { SlickCarouselModule } from 'ngx-slick-carousel';\nimport { ToastrModule } from 'ngx-toastr';\nimport { FormsModule } from '@angular/forms';\nimport { HeaderComponent } from './header/header.component';\nimport { FooterComponent } from './footer/footer.component';\nimport { BreadcrumbComponent } from './breadcrumb/breadcrumb.component';\nimport { CtaComponent } from './cta/cta.component';\nimport { BlogsidebarComponent } from './blogsidebar/blogsidebar.component';\n\n\n\n@NgModule({\n  declarations: [HeaderComponent, FooterComponent, BreadcrumbComponent, CtaComponent, BlogsidebarComponent],\n  imports: [\n    CommonModule,\n    RouterModule,\n    NgbModule,\n    BreadcrumbModule,\n    ToastrModule.forRoot({\n      timeOut: 10000,\n      positionClass: 'toast-top-right',\n      preventDuplicates: true,\n    }),\n    SlickCarouselModule,\n    FormsModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA],\n  exports: [HeaderComponent, FooterComponent, BreadcrumbComponent, CtaComponent, BlogsidebarComponent]\n})\nexport class SharedModule { }\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild } from '@angular/core';\nimport { CoreService } from '../../../core/core.service';\nimport { Router, NavigationEnd } from \"@angular/router\";\nimport { FormBuilder, Validators, FormGroup, FormArray } from '@angular/forms';\nimport { AuthenticationService } from '../../../services/authentication.service';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n\n  public loading = false;\n  public destination: any;\n  loginForm: FormGroup;\n\n  constructor(public core: CoreService,\n    public router: Router,\n    private fb: FormBuilder, private authenticationservice: AuthenticationService) {\n    this.loginForm = this.fb.group({\n      username: ['', [Validators.required]],\n      password: ['', Validators.required]\n    });\n  }\n\n  ngOnInit(): void {\n  }\n\n  onSubmitLogin() {\n\n    if (this.loginFormIsValid()) {\n      this.loading = true;\n      let values = this.loginForm.value;\n      values.username = values.username;\n\n      this.authenticationservice.login(values).then(r => {\n        this.core.encryptToLocalStorage('currentUser', JSON.stringify(r));\n        this.core.encryptToLocalStorage('menu', JSON.stringify(r.user.role));\n        let menu = this.core.decryptFromLocalStorage('menu');\n\n        if (menu == \"admin\") {\n          this.destination = \"/console\";\n        } else if (menu == \"user\") {\n          this.destination = \"/creator\";\n        }\n\n        if (!this.core.isEmptyOrNull(this.destination)) {\n          this.redirectToDashboard(this.destination);\n          this.core.showSuccess(\"Success\", \"Login Successful...\");\n        } else {\n          this.core.showError(\"Oops\", \"Refresh page and try again..\");\n        }\n\n        this.loading = false;\n\n      }).catch(e => {\n        this.loading = false;\n        this.core.handleError(e);\n      });\n\n    }\n\n    return false;\n\n  }\n\n  loginFormIsValid() {\n    return this.loginForm.controls.username.valid\n      && this.loginForm.controls.password.valid;\n  }\n\n  redirectToDashboard(destination: string) {\n    let timer = setTimeout(() => {\n      window.location.href = destination;\n      clearTimeout(timer);\n    }, 10);\n  }\n\n}\n","<main class=\"d-flex align-items-center min-vh-100 py-3 py-md-0\">\n  <div class=\"container\">\n    <div class=\"card login-card\">\n      <div class=\"row no-gutters\">\n        <div class=\"col-md-5\">\n          <img src=\"/assets/img/login.jpg\" alt=\"login\" class=\"login-card-img\" />\n        </div>\n        <div class=\"col-md-7\">\n          <div class=\"card-body\">\n            <div class=\"brand-wrapper\">\n              <img src=\"/assets/img/logo-2.png\" alt=\"logo\" class=\"logo\" />\n            </div>\n            <p class=\"login-card-description\">Log into your account</p>\n            <form\n              id=\"loginForm\"\n              [formGroup]=\"loginForm\"\n              (ngSubmit)=\"onSubmitLogin()\"\n            >\n              <div class=\"form-group\">\n                <label for=\"email\" class=\"sr-only\">Username</label>\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  id=\"username\"\n                  formControlName=\"username\"\n                  required\n                  placeholder=\"Username or email\"\n                />\n              </div>\n              <div class=\"form-group mb-4\">\n                <label for=\"password\" class=\"sr-only\">Password</label>\n                <input\n                  type=\"password\"\n                  class=\"form-control\"\n                  id=\"loginPassword\"\n                  formControlName=\"password\"\n                  required\n                  placeholder=\"Password\"\n                />\n              </div>\n              <input\n                name=\"login\"\n                [disabled]=\"!loginFormIsValid() || loading\"\n                id=\"login\"\n                class=\"btn btn-block login-btn mb-4\"\n                type=\"submit\"\n                value=\"Login\"\n              />\n            </form>\n            <div class=\"form-row\">\n              <div class=\"col pull-left\">\n                <a routerLink=\"/password-reset\" class=\"forgot-password-link\"\n                  >Forgot password?</a\n                >\n              </div>\n              <div class=\"col pull-right\">\n                Don't have an account? &nbsp;\n                <a routerLink=\"/signup\" class=\"text-reset\">Register here</a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</main>\n"],"sourceRoot":"webpack:///"}